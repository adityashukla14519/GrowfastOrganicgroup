
@{
    ViewBag.Title = "Assign Role";
    Layout = "~/Views/Shared/AdminMaster.cshtml";
}



<script>
    function statuschange(id, status, tdstatus) {
        tdstatus = "#" + tdstatus;
        $.ajax({
            url: "/Admin/Statuschangetive",
            type: "Post",
            dataType: "JSON",
            data: { id: id, status: status, tblnm: 'tbl_zone' },
            success: function (data) {
                if (data == "Active") {
                    $(tdstatus).empty();
                    $(tdstatus).append('<i class="fa fa-check text-success"></i><span style="display:none">' + data + '</span>');

                }
                else {
                    $(tdstatus).empty();

                    $(tdstatus).append('<i class="fa fa-ban text-danger"></i><span style="display:none">' + data + '</span>');
                }
            },
        });
    }
</script>
<script>
    $(document).ready(function () {
        var table = $('#tbldesignation').DataTable({
            dom: '<"row"<"col-md-6"B><"col-md-6"f>>rt<"row"<"col-md-6"i><"col-md-6"p>>',
            buttons: [
                {
                    extend: 'copy',
                    className: 'btn-custom',
                    exportOptions: {
                        columns: ':lt(-2)' // Exclude the last 3 columns
                    }
                },
                {
                    extend: 'csv',
                    className: 'btn-custom',
                    exportOptions: {
                        columns: ':lt(-2)' // Exclude the last 3 columns
                    }
                },
                {
                    extend: 'excel',
                    className: 'btn-custom',
                    exportOptions: {
                        columns: ':lt(-2)' // Exclude the last 3 columns
                    }
                },
                {
                    extend: 'pdf',
                    className: 'btn-custom',
                    exportOptions: {
                        columns: ':lt(-2)' // Exclude the last 3 columns
                    }
                },
                {
                    extend: 'print',
                    className: 'btn-custom',
                    exportOptions: {
                        columns: ':lt(-2)' // Exclude the last 3 columns
                    }
                }
            ]
        });
    });

</script>
<script>
    function Getid(id) {
        var up = id;
        $.ajax({
            url: '/Admin/UpdateAssignRole',
            type: "GET",
            dataType: "JSON",
            data: { Up: up },
            success: function (data) {
                $("#hid").val(data[0]);
                $("#group").val(data[1]);
                $("#status").val(data[2]);

                $("#status").removeClass("readonly");
                $("#status").prop("disabled", false);

                $("#company").val(data[5]);
                $("#companyid").val(data[5]);
                $("#companyname").val(data[6]);
                //alert(data[9])
                var companyid = $("#companyid").val();
                //alert(companyid)
                $.ajax({
                    url: '/Admin/GetRecordorg',
                    type: "GET",
                    dataType: "JSON",
                    data: { Tablename: 'tbl_zone', Columnname: 'Companyid', Columnvalue: companyid },
                    success: function (result) {
                        //alert(result)
                        var jsonArray = JSON.parse(result);
                        var data1 = '<option selected disabled value="">Select one</option>';
                        $.each(jsonArray, function (index, item) {
                            data1 += "<option value='" + item.Id + "'>" + item.Zone + "</option>";
                        });
                        $("#zone").empty();
                        $("#zone").append(data1);

                        //alert(data[7])
                        $("#zone").val(data[7]);
                        $("#zoneid").val(data[7]);
                        $("#zonename").val(data[8]);


                        var zoneid = $("#zoneid").val();
                        //alert(zoneid)
                        $.ajax({
                            url: '/Admin/GetRecordorg',
                            type: "GET",
                            dataType: "JSON",
                            data: { Tablename: 'tbl_region', Columnname: 'Zoneid', Columnvalue: zoneid },
                            success: function (result1) {
                                //alert(result1)
                                var jsonArray1 = JSON.parse(result1);
                                var data2 = '<option selected disabled value="">Select one</option>';
                                $.each(jsonArray1, function (index, item1) {
                                    data2 += "<option value='" + item1.Id + "'>" + item1.Region + "</option>";
                                });
                                $("#region").empty();
                                $("#region").append(data2);


                                $("#region").val(data[9]);
                                $("#regionid").val(data[9]);
                                $("#regionname").val(data[10]);


                                var regionid = $("#regionid").val();
                                $.ajax({
                                    url: '/Admin/GetRecordorg',
                                    type: "GET",
                                    dataType: "JSON",
                                    data: { Tablename: 'tbl_division', Columnname: 'Regionid', Columnvalue: regionid },
                                    success: function (result12) {
                                        var jsonArray12 = JSON.parse(result12);
                                        var data123 = '<option selected disabled value="">Select one</option>';
                                        $.each(jsonArray12, function (index, item12) {
                                            data123 += "<option value='" + item12.Id + "'>" + item12.Division + "</option>";
                                        });
                                        $("#division").empty();
                                        $("#division").append(data123);


                                        $("#division").val(data[11]);
                                        $("#divisionid").val(data[11]);
                                        $("#divisionname").val(data[12]);


                                        var divisionid = $("#divisionid").val();
                                        $.ajax({
                                            url: '/Admin/GetRecordorg',
                                            type: "GET",
                                            dataType: "JSON",
                                            data: { Tablename: 'tbl_branch1', Columnname: 'Divisionid', Columnvalue: divisionid },
                                            success: function (result123) {
                                                var jsonArray123 = JSON.parse(result123);
                                                var data1234 = '<option selected disabled value="">Select one</option>';
                                                $.each(jsonArray123, function (index, item123) {
                                                    data1234 += "<option value='" + item123.Id + "'>" + item123.Branch + "</option>";
                                                });
                                                $("#branch").empty();
                                                $("#branch").append(data1234);


                                                $("#branch").val(data[13]);
                                                $("#branchid").val(data[13]);
                                                $("#branchname").val(data[14]);


                                                var branchid = $("#branchid").val();
                                                $.ajax({
                                                    url: '/Admin/GetRecordorg',
                                                    type: "GET",
                                                    dataType: "JSON",
                                                    data: { Tablename: 'tbl_team', Columnname: 'Branchid', Columnvalue: branchid },
                                                    success: function (result1234) {
                                                        var jsonArray1234 = JSON.parse(result1234);
                                                        var data12345 = '<option selected disabled value="">Select one</option>';
                                                        $.each(jsonArray1234, function (index, item1234) {
                                                            data12345 += "<option value='" + item1234.Id + "'>" + item1234.Team + "</option>";
                                                        });
                                                        $("#team").empty();
                                                        $("#team").append(data12345);


                                                        $("#team").val(data[15]);
                                                        $("#teamid").val(data[15]);
                                                        $("#teamname").val(data[16]);


                                                        var teamid = $("#teamid").val();
                                                        $.ajax({
                                                            url: '/Admin/GetRecordorg',
                                                            type: "GET",
                                                            dataType: "JSON",
                                                            data: { Tablename: 'tbl_group', Columnname: 'Teamid', Columnvalue: teamid },
                                                            success: function (result12345) {
                                                                var jsonArray12345 = JSON.parse(result12345);
                                                                var data123456 = '<option selected disabled value="">Select one</option>';
                                                                $.each(jsonArray12345, function (index, item12345) {
                                                                    data123456 += "<option value='" + item12345.Id + "'>" + item12345.Groups + "</option>";
                                                                });
                                                                $("#group").empty();
                                                                $("#group").append(data123456);


                                                                $("#group").val(data[17]);
                                                                $("#groupid").val(data[17]);
                                                                $("#groupname").val(data[18]);


                                                            }
                                                        })


                                                    }
                                                })






                                            }
                                        })

                                    }
                                })




                            }
                        })

                    }
                })



            }
        })
    }
</script>
<script>
    $(document).ready(function () {
        $("#status").val("Active");
        $("#status").addClass("readonly");
        $("#status").prop("disabled", true);

        $("#cancel").click(function () {
            $("input[type='text'],.form-select,#hid,#status").val("");
            $("#status").val("Active");
            $("#status").addClass("readonly");
            $("#status").prop("disabled", true);
        })

    var msg = '@ViewBag.msg';
        if (msg) {
            var alertElement = '<div class="alert btncolorblue alert-dismissible fade show p-2" role="alert" id="alert">' +
                msg +
                '<button type="button" class="btn-close mt-1 pe-2" data-bs-dismiss="alert" aria-label="Close"></button>' +
                '</div>';
            $(alertElement).insertBefore('#alert-container');
            setTimeout(function () {
                $('#alert').alert('close');
            }, 5000);
        }
});
</script>
<script>
    $(document).ready(function () {

        $("#employee").change(function () {
            var up = $("#employee").val();
            $.ajax({
                url: '/Admin/GetEmpdata',
                type: "GET",
                dataType: "JSON",
                data: { Up: up },
                success: function (data) {
                    $("#employeename").val(data[2]);
                    $("#employeeid").val(data[0]);

                }
            })
        })

        $("#company").change(function () {
            var up = $("#company").val();
            $.ajax({
                url: '/Admin/UpdateCompany',
                type: "GET",
                dataType: "JSON",
                data: { Up: up },
                success: function (data) {
                    $("#companyname").val(data[1]);
                    $("#companyid").val(data[0]);

                }
            })

            $.ajax({
                url: '/Admin/GetRecordorg',
                type: "GET",
                dataType: "JSON",
                data: { Tablename: 'tbl_zone', Columnname: 'Companyid', Columnvalue: up },
                success: function (result) {
                    var jsonArray = JSON.parse(result);
                    var data1 = '<option selected disabled value="">Select one</option>';
                    $.each(jsonArray, function (index, item) {
                        data1 += "<option value='" + item.Id + "'>" + item.Zone + "</option>";
                    });
                    $("#zone").empty();
                    $("#zone").append(data1);
                }
            })
        })

        $("#zone").change(function () {
            var up = $("#zone").val();
            $.ajax({
                url: '/Admin/UpdateZone',
                type: "GET",
                dataType: "JSON",
                data: { Up: up },
                success: function (data) {
                    $("#zonename").val(data[1]);
                    $("#zoneid").val(data[0]);

                }
            })

            $.ajax({
                url: '/Admin/GetRecordorg',
                type: "GET",
                dataType: "JSON",
                data: { Tablename: 'tbl_region', Columnname: 'Zoneid', Columnvalue: up },
                success: function (result) {
                    var jsonArray = JSON.parse(result);
                    var data1 = '<option selected disabled value="">Select one</option>';
                    $.each(jsonArray, function (index, item) {
                        data1 += "<option value='" + item.Id + "'>" + item.Region + "</option>";
                    });
                    $("#region").empty();
                    $("#region").append(data1);
                }
            })
        })
        $("#region").change(function () {
            var up = $("#region").val();
            $.ajax({
                url: '/Admin/UpdateRegion',
                type: "GET",
                dataType: "JSON",
                data: { Up: up },
                success: function (data) {
                    $("#regionname").val(data[1]);
                    $("#regionid").val(data[0]);

                }
            })
            $.ajax({
                url: '/Admin/GetRecordorg',
                type: "GET",
                dataType: "JSON",
                data: { Tablename: 'tbl_division', Columnname: 'Regionid', Columnvalue: up },
                success: function (result) {
                    var jsonArray = JSON.parse(result);
                    var data1 = '<option selected disabled value="">Select one</option>';
                    $.each(jsonArray, function (index, item) {
                        data1 += "<option value='" + item.Id + "'>" + item.Division + "</option>";
                    });
                    $("#division").empty();
                    $("#division").append(data1);
                }
            })
        })


        $("#division").change(function () {
            var up = $("#division").val();
            $.ajax({
                url: '/Admin/UpdateDivision',
                type: "GET",
                dataType: "JSON",
                data: { Up: up },
                success: function (data) {
                    $("#divisionname").val(data[1]);
                    $("#divisionid").val(data[0]);

                }
            })

            $.ajax({
                url: '/Admin/GetRecordorg',
                type: "GET",
                dataType: "JSON",
                data: { Tablename: 'tbl_branch1', Columnname: 'Divisionid', Columnvalue: up },
                success: function (result) {
                    var jsonArray = JSON.parse(result);
                    var data1 = '<option selected disabled value="">Select one</option>';
                    $.each(jsonArray, function (index, item) {
                        data1 += "<option value='" + item.Id + "'>" + item.Branch + "</option>";
                    });
                    $("#branch").empty();
                    $("#branch").append(data1);
                }
            })
        })


        $("#branch").change(function () {
            var up = $("#branch").val();
            $.ajax({
                url: '/Admin/UpdateBranch1',
                type: "GET",
                dataType: "JSON",
                data: { Up: up },
                success: function (data) {
                    $("#branchname").val(data[1]);
                    $("#branchid").val(data[0]);

                }
            })


            $.ajax({
                url: '/Admin/GetRecordorg',
                type: "GET",
                dataType: "JSON",
                data: { Tablename: 'tbl_team', Columnname: 'Branchid', Columnvalue: up },
                success: function (result) {
                    var jsonArray = JSON.parse(result);
                    var data1 = '<option selected disabled value="">Select one</option>';
                    $.each(jsonArray, function (index, item) {
                        data1 += "<option value='" + item.Id + "'>" + item.Team + "</option>";
                    });
                    $("#team").empty();
                    $("#team").append(data1);
                }
            })
        })


        $("#team").change(function () {
            var up = $("#team").val();
            $.ajax({
                url: '/Admin/UpdateTeam',
                type: "GET",
                dataType: "JSON",
                data: { Up: up },
                success: function (data) {
                    $("#teamname").val(data[1]);
                    $("#teamid").val(data[0]);

                }
            })
            $.ajax({
                url: '/Admin/GetRecordorg',
                type: "GET",
                dataType: "JSON",
                data: { Tablename: 'tbl_group', Columnname: 'Teamid', Columnvalue: up },
                success: function (result) {
                    var jsonArray = JSON.parse(result);
                    var data1 = '<option selected disabled value="">Select one</option>';
                    $.each(jsonArray, function (index, item) {
                        data1 += "<option value='" + item.Id + "'>" + item.Groups + "</option>";
                    });
                    $("#group").empty();
                    $("#group").append(data1);
                }
            })
        })


        $("#group").change(function () {
            var up = $("#group").val();
            $.ajax({
                url: '/Admin/UpdateGroup',
                type: "GET",
                dataType: "JSON",
                data: { Up: up },
                success: function (data) {
                    $("#groupname").val(data[1]);
                    $("#groupid").val(data[0]);

                }
            })
        })

    })
</script>

<div class="row mt-1 mb-3 nevigationstrip">
    <div class="col">
        <label class="text-uppercase text-truncate trutext">Admin <i class="fa fa-angle-double-right"></i>  Assign Role</label>
    </div>
    <div class="col text-right d-flex justify-content-end">
        <label class="text-uppercase text-truncate trutext" style="cursor:pointer" onclick="navigateBack()"> <i class="fa fa-angle-double-left"></i> Back</label>
    </div>
</div>

<div class="row mt-2 mb-3 row-cols-1 row-cols-sm-3">
    <div class="col"></div>
    <div class="col">
        <div id="alert-container"></div>
    </div>
    <div class="col text-right d-flex justify-content-end">
        <button type="button" class="btn btncolor btn-sm" data-bs-toggle="modal" data-bs-target="#AssignRole">
            <i class="fa fa-plus" aria-hidden="true"></i> New
        </button>
    </div>
</div>

@using System.Data;
@{
    DbManager db = new DbManager();
    Activitylog activitylog = new Activitylog();

}

@{
    try
    {
        string query = "select * from tbl_role_assign";
        activitylog.Activitylogins("tbl_role_assign", "", query, "Failed", "", Session["suid"].ToString(), Session["suname"].ToString(), Session["smail"].ToString());
        DataTable dt = db.GetAllRecord(query);
        activitylog.Activitylogupd("Success", "");
        int count = 1;
        if (dt.Rows.Count > 0)
        {
            <div class="row table table-responsive">
                <table class="table table-responsive table-bordered" id="tbldesignation">
                    <thead class="theadb text-l text-center">
                        <tr>
                            <th class="text-center">Id</th>
                            <th class="text-center">Company</th>
                            <th class="text-center">Zone</th>
                            <th class="text-center">Region</th>
                            <th class="text-center">Division</th>
                            <th class="text-center">Branch</th>
                            <th class="text-center">Team Name</th>
                            <th class="text-center">Assign Role</th>
                            @*<th class="text-center">Employees</th>*@
                            <th class="text-center">Status</th>
                            <th class="text-center">Active/Inactive</th>
                            <th class="text-center">Edit</th>
                        </tr>
                    </thead>
                    <tbody class="text-center">
                        @for (int i = 0; i < dt.Rows.Count; i++)
                        {
                            //DataTable cdt = db.GetAllRecord("SELECT * FROM tbl_registration LEFT JOIN tbl_zone ON tbl_registration.Designation = tbl_zone.Designation WHERE tbl_zone.Id='" + dt.Rows[i]["id"] + "' and tbl_zone.logid='" + Session["suid"] + "'");
                            //int ecount = cdt.Rows.Count;
                            <tr>
                                <td>@(count+i)<input type="hidden" id="@dt.Rows[i]["id"]" value="@dt.Rows[i]["id"]" /></td>
                                <td>@dt.Rows[i]["Companyname"]</td>
                                <td>@dt.Rows[i]["Zonename"]</td>
                                <td>@dt.Rows[i]["Regionname"]</td>
                                <td>@dt.Rows[i]["Divisionname"]</td>
                                <td>@dt.Rows[i]["Branchname"]</td>
                                <td>@dt.Rows[i]["Teamname"]</td>
                                <td>@dt.Rows[i]["AssignRoles"]</td>

                                @*@if (ecount > 0)
                                    {
                                        <td><a href="/Admin/View/@dt.Rows[i]["id"]?name=designation" class="btncolor rounded-4 ps-2 pe-2 pb-1 text-truncate">(@ecount Members)</a></td>
                                    }
                                    else
                                    {
                                        <td><a class="btncolor rounded-4 ps-2 pe-2 pb-1 text-truncate">(@ecount Members)</a></td>
                                    }*@


                                @if (@dt.Rows[i]["Status"] + "" == "Active")
                                {

                                    <td id="tdi_@dt.Rows[i]["id"]"><i class="fa fa-check text-success"></i><span style="display:none">@dt.Rows[i]["Status"]</span></td>
                                    <td>
                                        <input type="checkbox" checked data-toggle="toggle" data-on="Active" data-off="Inactive" onchange="statuschange('@dt.Rows[i]["id"]','Inactive','tdi_@dt.Rows[i]["id"]')" style="font-size:7px;padding:1px">
                                    </td>

                                }
                                else
                                {

                                    <td id="tda_@dt.Rows[i]["id"]"><i class="fa fa-ban text-danger"></i><span style="display:none">@dt.Rows[i]["Status"]</span></td>
                                    <td>
                                        <input type="checkbox" data-toggle="toggle" data-on="Active" data-off="Inactive" onchange="statuschange('@dt.Rows[i]["id"]','Active','tda_@dt.Rows[i]["id"]')" style="font-size:7px;padding:1px">
                                    </td>
                                }
                                <td><button class="btn btncolorblue" onclick="Getid($('#@dt.Rows[i]["id"]').val())" data-bs-toggle="modal" data-bs-target="#AssignRole"><i class="fa fa-edit"></i></button></td>

                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
        else
        {
            <div class='row justify-content-center d-flex m-5' id='datanotdound'>
                <img src='~/Content/Img/nodata1.png' style="height:50%;width:50%" />
            </div>
        }
    }

    catch (Exception ex)
    {
        try
        {
            Error_15_16 error_15_16 = new Error_15_16();
            string pageUrl = "", moduleName = "", errorLine = "", errorMessage = "", errorName = "", errorTrace = "";
            // Get the page URL, if available
            pageUrl = System.Web.HttpContext.Current.Request.Url.AbsoluteUri;
            // Get the module name
            moduleName = ex.TargetSite.Module.Name;
            // Get the error line number, if available
            var stackTrace = ex.StackTrace;
            if (!string.IsNullOrEmpty(stackTrace))
            {
                var lineNumberIndex = stackTrace.LastIndexOf(":line ");
                if (lineNumberIndex >= 0)
                {
                    var lineNumber = stackTrace.Substring(lineNumberIndex + 6);
                    var newLineIndex = lineNumber.IndexOf(Environment.NewLine);
                    if (newLineIndex >= 0)
                    {
                        errorLine = lineNumber.Substring(0, newLineIndex);
                    }
                    else
                    {
                        errorLine = lineNumber;
                    }
                }
            }
            // Get the error message and name
            if (ex.Message.ToString().Length >= 1000)
            {
                errorMessage = ex.Message.Substring(1, 500);
            }
            else
            {
                errorMessage = ex.Message;
            }
            errorName = ex.GetType().FullName;
            // Get the error trace
            errorTrace = ex.StackTrace;
            error_15_16.Error_15_16ins(pageUrl, moduleName, errorLine, errorMessage.Replace("'", "`"), errorName.Replace("'", "`"), errorTrace.Replace("'", "`"), Session["suid"].ToString(), Session["suname"].ToString(), Session["smail"].ToString());
        }

        catch
        {

        }
    }
    finally
    {
        db.connectionstate();
    }

}

<!-- Modal Assign Role-->
<div class="modal fade" id="AssignRole" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-5idden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg">
        <div class="modal-content">
            <form action="/Admin/AssignRole" method="post" class="needs-validation" novalidate>

                <div class="modal-header justify-content-center nevigationstrip">
                    <h5 class="modal-title text-uppercase" id="staticBackdropLabel">Assign Role Info</h5>
                </div>
                <div class="modal-body">
                    <div class="row row-cols-1 row-cols-sm-2">
                        <div class="col mb-3">
                            <input type="hidden" id="hid" name="hid" />
                            <h6 class="mt-2">Employee</h6>
                            <select class="form-select shadow-none" id="employee" name="employee" required>
                                <option selected disabled value="">Select one</option>
                                @{
                                    string equery1 = "select * from tbl_registration where Employee_type='Suser'";
                                    DataTable edt1 = db.GetAllRecord(equery1);
                                    if (edt1.Rows.Count > 0)
                                    {
                                        for (int i = 0; i < edt1.Rows.Count; i++)
                                        {
                                            if (edt1.Rows[i]["Status"] + "" == "Approved")
                                            {
                                                <option value="@edt1.Rows[i]["Id"]">@edt1.Rows[i]["Name"] (@edt1.Rows[i]["Branchname"])</option>
                                            }


                                        }
                                    }
                                }
                            </select>
                            <input type="hidden" name="employeename" id="employeename" />
                            <input type="hidden" name="employeeid" id="employeeid" />
                            <div class="invalid-feedback">
                                Please select a valid option.
                            </div>
                        </div>
                        <div class="col mb-3">
                            <h6 class="mt-2">Company</h6>
                            <select class="form-select shadow-none" id="company" name="company" required>
                                <option selected disabled value="">Select one</option>
                                @{
                                    string query1 = "select * from tbl_company";
                                    DataTable dt1 = db.GetAllRecord(query1);
                                    if (dt1.Rows.Count > 0)
                                    {
                                        for (int i = 0; i < dt1.Rows.Count; i++)
                                        {
                                            if (dt1.Rows[i]["Status"] + "" == "Active")
                                            {
                                                <option value="@dt1.Rows[i]["Id"]">@dt1.Rows[i]["Company"]</option>
                                            }


                                        }
                                    }
                                }
                            </select>
                            <input type="hidden" name="companyname" id="companyname" />
                            <input type="hidden" name="companyid" id="companyid" />
                            <div class="invalid-feedback">
                                Please select a valid option.
                            </div>
                        </div>
                        <div class="col mb-3">
                            <h6 class="mt-2">Zone</h6>
                            <select class="form-select shadow-none" id="zone" name="zone" required>
                                <option selected disabled value="">Select one</option>
                                @*@{
                                    string query2 = "select * from tbl_zone";
                                    DataTable dt2 = db.GetAllRecord(query2);
                                    if (dt2.Rows.Count > 0)
                                    {
                                        for (int i = 0; i < dt2.Rows.Count; i++)
                                        {
                                            if (dt2.Rows[i]["Status"] + "" == "Active")
                                            {
                                                <option value="@dt2.Rows[i]["Id"]">@dt2.Rows[i]["Zone"]</option>
                                            }


                                        }
                                    }
                                }*@
                            </select>
                            <input type="hidden" name="zonename" id="zonename" />
                            <input type="hidden" name="zoneid" id="zoneid" />
                            <div class="invalid-feedback">
                                Please select a valid option.
                            </div>
                        </div>
                        <div class="col mb-3">
                            <h6 class="mt-2">Region</h6>
                            <select class="form-select shadow-none" id="region" name="region" required>
                                <option selected disabled value="">Select one</option>
                                @*@{
                                    string query3 = "select * from tbl_region";
                                    DataTable dt3 = db.GetAllRecord(query3);
                                    if (dt3.Rows.Count > 0)
                                    {
                                        for (int i = 0; i < dt3.Rows.Count; i++)
                                        {
                                            if (dt3.Rows[i]["Status"] + "" == "Active")
                                            {
                                                <option value="@dt3.Rows[i]["Id"]">@dt3.Rows[i]["Region"]</option>
                                            }


                                        }
                                    }
                                }*@
                            </select>
                            <input type="hidden" name="regionname" id="regionname" />
                            <input type="hidden" name="regionid" id="regionid" />
                            <div class="invalid-feedback">
                                Please select a valid option.
                            </div>
                        </div>
                        <div class="col mb-3">
                            <h6 class="mt-2">Division</h6>
                            <select class="form-select shadow-none" id="division" name="division" required>
                                <option selected disabled value="">Select one</option>
                                @*@{
                                    string query4 = "select * from tbl_division";
                                    DataTable dt4 = db.GetAllRecord(query4);
                                    if (dt3.Rows.Count > 0)
                                    {
                                        for (int i = 0; i < dt4.Rows.Count; i++)
                                        {
                                            if (dt4.Rows[i]["Status"] + "" == "Active")
                                            {
                                                <option value="@dt4.Rows[i]["Id"]">@dt4.Rows[i]["Division"]</option>
                                            }


                                        }
                                    }
                                }*@
                            </select>
                            <input type="hidden" name="divisionname" id="divisionname" />
                            <input type="hidden" name="divisionid" id="divisionid" />
                            <div class="invalid-feedback">
                                Please select a valid option.
                            </div>
                        </div>
                        <div class="col mb-3">
                            <h6 class="mt-2">Branch</h6>
                            <select class="form-select shadow-none" id="branch" name="branch" required>
                                <option selected disabled value="">Select one</option>
                                @*@{
                                    string query5 = "select * from tbl_branch1";
                                    DataTable dt5 = db.GetAllRecord(query5);
                                    if (dt5.Rows.Count > 0)
                                    {
                                        for (int i = 0; i < dt5.Rows.Count; i++)
                                        {
                                            if (dt5.Rows[i]["Status"] + "" == "Active")
                                            {
                                                <option value="@dt5.Rows[i]["Id"]">@dt5.Rows[i]["Branch"]</option>
                                            }


                                        }
                                    }
                                }*@
                            </select>
                            <input type="hidden" name="branchname" id="branchname" />
                            <input type="hidden" name="branchid" id="branchid" />
                            <div class="invalid-feedback">
                                Please select a valid option.
                            </div>
                        </div>
                        <div class="col mb-3">
                            <h6 class="mt-2">Team</h6>
                            <select class="form-select shadow-none" id="team" name="team" required>
                                <option selected disabled value="">Select one</option>
                                @*@{
                                    string query6 = "select * from tbl_team";
                                    DataTable dt6 = db.GetAllRecord(query6);
                                    if (dt6.Rows.Count > 0)
                                    {
                                        for (int i = 0; i < dt6.Rows.Count; i++)
                                        {
                                            if (dt6.Rows[i]["Status"] + "" == "Active")
                                            {
                                                <option value="@dt6.Rows[i]["Id"]">@dt6.Rows[i]["Team"]</option>
                                            }


                                        }
                                    }
                                }*@
                            </select>
                            <input type="hidden" name="teamname" id="teamname" />
                            <input type="hidden" name="teamid" id="teamid" />
                            <div class="invalid-feedback">
                                Please select a valid option.
                            </div>
                        </div>
                        <div class="col mb-3">
                            <h6 class="mt-2">Group</h6>
                            <select class="form-select shadow-none" id="group" name="group" required>
                                <option selected disabled value="">Select one</option>
                                @*@{
                                    string query7 = "select * from tbl_group";
                                    DataTable dt7 = db.GetAllRecord(query7);
                                    if (dt7.Rows.Count > 0)
                                    {
                                        for (int i = 0; i < dt7.Rows.Count; i++)
                                        {
                                            if (dt7.Rows[i]["Status"] + "" == "Active")
                                            {
                                                <option value="@dt7.Rows[i]["Id"]">@dt7.Rows[i]["Groups"]</option>
                                            }
                                        }
                                    }
                                }*@
                            </select>
                            <input type="hidden" name="groupname" id="groupname" />
                            <input type="hidden" name="groupid" id="groupid" />
                            <div class="invalid-feedback">
                                Please select a valid option.
                            </div>
                        </div>

                        <!--<div class="col mb-3">
                            <h6 class="mt-2">Status</h6>
                            <select class="form-select shadow-none" id="status" name="status" required>-->
                                @*<option selected disabled value="">Select one</option>*@
                                <!--<option>Active</option>
                                <option value="Inactive">Inactive</option>
                            </select>
                            <div class="invalid-feedback">
                                Please select a valid status.
                            </div>
                        </div>-->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btncolorblue" data-bs-dismiss="modal" id="cancel"><i class="fa fa-times"></i></button>
                    <button type="submit" class="btn btncolor"><i class="fa fa-check"></i></button>
                </div>
            </form>
        </div>
    </div>
</div>





















